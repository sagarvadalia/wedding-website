# Render Blueprint â€“ config as code
# https://docs.render.com/blueprint-spec

services:
  - type: web
    name: wedding-web
    runtime: node
    plan: free

    # Install devDependencies so client build has Vite + type defs (vite/client, node)
buildCommand: npm ci --include=dev && npm run build
    startCommand: npm run start --workspace=server

    healthCheckPath: /api/health

    # Only redeploy when relevant paths change (monorepo)
    buildFilter:
      paths:
        - client/**
        - server/**
        - package.json
        - package-lock.json
        - scripts/**
